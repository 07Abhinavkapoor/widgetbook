# Widgetbook Hosting

The Widgetbook Hosting allows users to upload the Flutter web version of a Widgetbook to Widgetbook Cloud.
To upload any widgetbook, you require an API key.

## How to create an API key

To create an API key, you need to login with your account at [app.widgetbook.io](https://app.widgetbook.io). 
API keys are bound to projects. 
Therefore, you require a project to retrieve an API key. 
Furthermore, only users with the `Owner` role can fetch the API key of a project. 

As a user you can create a new project by clicking the add button. 

On the detail page of a project, a card which allows to fetch the API key is displayed. 

Click the button on the card to fetch the API key. 
The key will be copied to your clipboard.

## GitHub

```yaml
name: Build 
on: [push]
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Setup flutter
        uses: subosito/flutter-action@v1
        with:
          channel: stable

      - name: Build Website
        run: flutter build web -t path/to/main.widgetbook.dart

      - name: Upload Widgetbook
        uses: widgetbook/widgetbook-hosting@0.0.24
        with:
          path: 'build/web'
          api_key: '<your API key>'
```

By running this script, a folder structure `./buid/web/` with the widgetbook web app will be created. The output folder of the build is required by the Widgetbook Hosting action and will be uploaded to the collaboration platform.

### Inputs

The action defines the following inputs: 

| Input | Default | Is optional |
| ----- | ------- | ----------- |
| `path` | `build/web` | ✅ |
| `api_key` | ➖ | ❌ |
